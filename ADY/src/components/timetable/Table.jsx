import React, { useState } from 'react';
import "./Table.css";
import { useTranslation } from 'react-i18next';

const Table = () => {
  const { t, i18n } = useTranslation();
  const [showMore, setShowMore] = useState(false);

  const changeLanguage = (language) => {
    i18n.changeLanguage(language);
  };

  const data = [
    ['№ 6602', '06:20', '06:33', '06:38', '06:45', '06:49', '06:52', '06:57', '07:00', '07:07', '07:35'],
    ['№ 6604', '06:45', '06:54', '06:58', '07:03', '07:10', '07:17', '07:25', '07:32', '07:40', '07:45'],
    ['№ 6606', '07:00', '07:09', '07:13', '07:18', '07:25', '07:29', '07:32', '07:47', '07:55', '08:00'],
    ['№ 6608', '07:15', '07:24', '07:28', '07:33', '07:40', '07:44', '07:47', '07:55', '08:02', '08:05'],
    ['№ 6610', '07:30', '07:49', '07:50', '08:08', '08:15', '08:19', '08:22', '08:27', '08:34', '08:37'],
    ['№ 6612', '07:50', '07:59', '08:03', '08:08', '08:15', '08:19', '08:22', '08:30', '08:37', '08:40'],
    ['№ 6614', '08:00', '08:05', '08:10', '08:15', '08:40', '08:45', '08:50', '08:55', '09:05', '09:10'],
    ['№ 6616', '09:15', '09:24', '09:28', '09:39', '09:44', '09:49', '09:55', '09:59', '10:05', '10:10'],
    ['№ 6618', '10:00', '10:09', '10:18', '10:25', '10:29', '10:37', '10:44', '10:47', '10:55', '11:00'],
    ['№ 6620', '11:00', '11:09', '11:13', '11:18', '11:25', '11:29', '11:32', '11:37', '11:44', '11:52'],
    ['№ 6626', '15:50', '16:15', '16:19', '16:26', '16:27', '16:30', '16:34', '16:37', '16:45', '16:50'],
    ['№ 6628', '16:50', '16:59', '17:03', '17:08', '17:15', '17:19', '17:22', '17:27', '17:34', '17:37'],
    ['№ 6630', '17:20', '17:33', '17:38', '17:45', '17:49', '17:57', '18:00', '18:07', '18:15', '18:20'],
    ['№ 6632', '17:43', '17:52', '17:56', '18:01', '18:08', '18:15', '18:20', '18:23', '18:30', '18:35'],
    ['№ 6634', '18:58', '19:05', '19:10', '19:15', '19:20', '19:25', '19:30', '19:35', '19:45', '19:50'],
    ['№ 6636', '19:10', '19:23', '19:35', '19:42', '19:47', '19:50', '19:54', '19:58', '20:03', '20:05'],
    ['№ 6638', '19:32', '19:41', '19:50', '19:57', '20:01', '20:04', '20:12', '20:16', '20:22', '20:25'],
    ['№ 6640', '20:00', '20:03', '20:18', '20:25', '20:29', '20:32', '20:40', '20:44', '20:50', '20:55'],
  ];

  const toggleMore = () => {
    setShowMore(!showMore);
  };

  return (
    <>
      <table className="table">
        <thead>
          <tr>
            <th>№</th>
            <th>{t('baku')}</th>
            <th>{t('novxani')}</th>
            <th>{t('goredil')}</th>
            <th>{t('pirsagi')}</th>
            <th>{t('memmedli')}</th>
            <th>{t('zabrat')}</th>
            <th>{t('sabuncu')}</th>
            <th>{t('bakixanov')}</th>
            <th>{t('koroglu')}</th>
            <th>{t('sumqayit')}</th>
          </tr>
        </thead>
        <tbody>
          {data.slice(0, showMore ? data.length : 3).map((row, rowIndex) => (
            <tr key={rowIndex}>
              {row.map((cell, cellIndex) => (
                <td key={cellIndex} data-label={cellIndex === 0 ? "Train Number" : t(cellIndex === 1 ? 'baku' : cellIndex === 2 ? 'novxani' : cellIndex === 3 ? 'goredil' : cellIndex === 4 ? 'pirsagi' : cellIndex === 5 ? 'memmedli' : cellIndex === 6 ? 'zabrat' : cellIndex === 7 ? 'sabuncu' : cellIndex === 8 ? 'bakixanov' : cellIndex === 9 ? 'koroglu' : 'sumqayit')}>
                  {cell}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>

      <div className="mobile-buttons">
        <button className="show-more" onClick={toggleMore}>
          {showMore ? 'Скрыть' : 'Еще'}
        </button>
      </div>
    </>
  );
};

export default Table;
